# Инструкция по созданию сайта для исследования семантики цветового зрения
## Пара слов о том, кому это может пригодиться
* Небольшой компании, которая хочет придумать себе логотип, и хочет, чтобы этот логотип передавал определенный смысл
(например, птица счастья - то есть птица цвета ультрамарин), как раз для того, чтобы понять, какой цвет ваши сотрудники воспринимают как ультрамарин, вам может пригодиться провести исследование семантики их цветового зрения
* Любому человеку, кто хочет понимать, какой RGB соответствует какому цвету в голове его близких(например, если ваша жена скажет, что хочет
сиреневое платье, то вы посмотрите на результаты исследования и увидете, какой цвет в RGB она считает сиреневым, затем без труда закажите платье нужного цвета)
* Тому, кто хочет написать свой сайт и столкнулся с какой-то проблемой, я постаралась расписать как у меня все работает, чтобы можно было по такой же лоогике использовать для создания другого сайта
## Описание исследования
## Описание структуры проекта
requirements - в нем прописаны все библиотеки и фреймворки, которые используются в проекте - установите все из него   
settings.py - в нем прописаны настройки сайта, стоит изменить под себя при разработке  
views.py - собственно логика или backend сайта  
templates - папка с html  
about.html - для страницы "Об исследовании"  
base.html - шаблон для всех страниц(меню и фоны)  
index.html - для начальной страницы с формой сбора данных  
map.html - для исследования(сами кружочки)  
results.html - для страницы результатов, в начале там только ожидание результатов, потом можете добавить сами результаты или вообще удалить эту страницу  
css/main.css - все стили(в коде есть комментарии к каждой строке)  
js/script.js - скрипт для логики для клиента, так же есть для каждого действия комментарии  
js/cookie.js - сторониий скрипт для использования куки в JavaScript  
img - картинки(у меня их две - для иконки сайта и для ждуна в результатах исследования)  
forms.py - форма для пользователя (возраст, город, пол, профессия, дальтонизм), и для хранения шагов пользователй  
models.py - модель данных так же для данных пользователя и цветов  
## Как изменить под ваше исследование
__Сразу отмечу, что я не объясняю зачем нужны базовые строки, так как есть люди, которые уже это сделали лучше меня), можете посмотреть вот [тут](https://www.youtube.com/watch?v=L-FyeHQwo4U&list=PLDyJYA6aTY1nZ9fSGcsK4wqeu-xaJksQQ), если есть какие-то ошибки с базовой структурой сайта__  
Возможно(скорее точно), вам стоит переделать models и forms, чтобы у вас не было куча одинаковых таблиц, а была одна, но с индексами, например. Мне было проще для понимания сделать много одинаковых.  
1. В settings.py в ALLOWED_HOSTS пропишите те хосты, на котороых хотите, чтобы крутился ваш сайт
2. html, цвета, стили и т.д. можно менять под себя, я расписала в css комментарии, для чего именно сделал каждый стиль
3. views.py 
У меня вся логика взаимодействия фронта с беком построена на куки и на ajax. Через куки я передаю переменные, важные для логики программы(id пользователя, нынешний цвет), с помощью ajax я передаю в БД действия пользователя при выборе цвета.  
```python
if not request.COOKIES.get('id'):
        # Запоминаем id user-a
        request.COOKIES['id'] = id
        html = redirect('map')
        html.set_cookie('id', id)
    # Если пользователь еще не заполнил данные
    if not request.COOKIES.get('logged_in'):
        if request.method == 'POST':
            # Записываем в БД данные пользователя
            user_info = UserInfo(id=str(id))
            form = UserInfoForm(request.POST, instance=user_info)
            if form.is_valid():
                form.save()
                # Запоминаем, что он заполнил данные
                request.COOKIES['logged_in'] = True
                html.set_cookie('logged_in', True)
                # ренаправляем на исследование - map
                return html
```
4. js/script.js  
В начале файла у меня указан список цветов, вам стоит только заменить его на свои цвета и выбрать стартовые координаты для цвета. Стартовая координата это цвет, который отдаленно напоминает нужный цвет9в вашем представлении), но не абсолютно близок к нему. То есть для белого,условно, не стоит брать (250,250,250), так как тогда у пользователя почти не будет шагов, стоит выбрать что-то а-ля (200,200,200).  
Затем происходит сокрытие и показ кнопок в нужное время, расскрашивание кругов происходит с помощью функции changeColor(color_chose, isStart), где color_chose это цвет, на который нажал пользователь, если это не начало, или эьто ваш стартовый цвет, если начало.  
Логика измнения цвета, который в коде выглядит как 3 if следующая:
